CXX=g++
IDIR=.
CFLAGS=-I$(IDIR) -Wall
CXXFLAGS=-std=c++20
LIBS=-lm -lxcb -lxcb-icccm -lxcb-ewmh

DEPS= $(patsubst %,$(IDIR)/%,$(_DEPS))

ODIR=obj

_OBJ=x_simple_gui.o window_keypress_listener.o create_a_window.o
OBJ=$(patsubst %,$(ODIR)/%,$(_OBJ))

$(ODIR)/%.o: %.cc $(DEPS)
	mkdir -p $(dir $@)
	$(CXX) $(CFLAGS) $(CXXFLAGS) $< -o $@ $(LIBS)

# Note: PHONY is important here. Without it, implicit rules will try to build the executable "all", since the prereqs are ".o" files.
.PHONY: all 

all: $(OBJ)

.PHONY: clean

clean:
	rm -r $(ODIR)

# Debugging Makefiles
# Try make -nd all
# make -n all
# make -np all
# man make has a lot more details.


# Stuff to Install

# libxcb-ewmh-dev
# apt install libxcb-icccm4-dev
# apt install libxcb-util-dev
# apt install libxi-dev
# apt install qt6-tools-dev-tools (why?)
# apt install qdbusviewer (this is not related to this project)
